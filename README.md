# Инструмент для преобразования XML в учебный конфигурационный язык

Этот проект реализует инструмент командной строки для преобразования текста из формата XML в учебный конфигурационный язык. Инструмент проверяет синтаксис входного текста, выдает сообщения об ошибках и поддерживает все конструкции языка, включая вложенные структуры.

## Возможности
- **Поддержка конструкций языка:**
  - Однострочные комментарии: `% ...`
  - Многострочные комментарии: `{- ... -}`
  - Массивы: `<< значение, значение, значение >>`
  - Словари: `$[ имя : значение, ... ]`
  - Объявления констант: `const имя = значение`
  - Вычисление констант: `^{имя}`
- **Проверка синтаксиса:**
  - Выявление и отображение синтаксических ошибок.
- **Ввод и вывод:**
  - Принимает XML-текст из стандартного ввода.
  - Генерирует выходной файл с кодом на учебном конфигурационном языке.

## Аргументы командной строки
1. `--output_path`: Путь к выходному файлу, в который будет записан результат преобразования.

### Пример использования
```bash
cat input.xml | python xml_to_config.py --output_path output.config
```

## Синтаксис учебного конфигурационного языка

### Комментарии
- **Однострочные:**
  ```
  % Это однострочный комментарий
  ```
- **Многострочные:**
  ```
  {-
  Это многострочный
  комментарий
  -}
  ```

### Массивы
```
<< значение1, значение2, значение3 >>
```

### Словари
```
$[
  ключ1 : значение1,
  ключ2 : значение2
]
```

### Имена
Имена переменных или ключей:
```
[_a-z]+
```

### Значения
- Числа: `123`, `-45`, `0.67`
- Строки: `'Это строка'`
- Массивы: `<< 1, 2, 3 >>`
- Словари: `$[ имя : значение ]`

### Объявление и вычисление констант
- **Объявление:**
  ```
  const имя = значение
  ```
- **Вычисление:**
  ```
  ^{имя}
  ```

### Пример конфигурации
#### Пример 1: Конфигурация системы пользователей
```
const max_users = 100
$[
  admin : $[
    username : 'admin',
    password : 'secure',
    permissions : << 'read', 'write', 'execute' >>
  ],
  guest : $[
    username : 'guest',
    password : 'guest',
    permissions : << 'read' >>
  ]
]
```

#### Пример 2: Конфигурация робота
```
const speed = 5
$[
  sensors : << 'camera', 'lidar', 'gps' >>,
  motor : $[
    type : 'electric',
    max_speed : ^{speed}
  ],
  battery : $[
    capacity : 1000,
    type : 'Li-Ion'
  ]
]
```

## Тестирование
Все функции инструмента покрыты тестами. Убедитесь, что тесты проверяют:
1. Корректное преобразование всех конструкций языка.
2. Обработку вложенных массивов и словарей.
3. Выявление синтаксических ошибок.

Для запуска тестов используйте `unittest` или `pytest`:
```bash
pytest tests/
```

## Структура проекта
```
project/
├── xml_to_config.py         # Основной скрипт
├── tests/                   # Тесты
├── examples/                # Примеры входных и выходных файлов
└── README.md                # Документация
```

## Лицензия
Этот проект лицензирован на условиях MIT License. Подробнее см. в файле `LICENSE`.

